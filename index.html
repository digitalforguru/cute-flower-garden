<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>cute garden widget</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>

<div id="app-container" role="application" aria-label="Cute garden widget and vase shelf" style="background: transparent;">

  <div id="garden-vase-wrapper">
    <!-- Garden widget -->
    <section id="garden-widget" class="theme-pink" aria-label="My mini garden">
      <header class="widget-header">
        <h1>⋆˚✿ my lil flowers ✿˖°</h1>
        <div style="display: flex; align-items: center; gap: 1rem;">
          <div id="lotus-points" aria-live="polite" aria-atomic="true" class="points-display">
            <img src="assets/UI/lotus-points-icon.png" alt="lotus points" class="icon-large" /> 
            <span id="lotus-points-value">0</span>
          </div>
          <div id="daily-streak" aria-label="daily login streak">
            <span>⟢</span> <span id="streak-count">0</span>
          </div>
        </div>
      </header>

      <main class="widget-main" style="display: flex; gap: 1rem; flex-wrap: wrap; position: relative;">

        <!-- Left Column: Garden + Water & Harvest buttons -->
        <div style="display: flex; flex-direction: column; gap: 0.8rem;">
          <!-- Garden -->
          <section id="garden-section" aria-label="garden area" tabindex="0" role="button" aria-describedby="garden-info" style="width: 180px; height: 180px; position: relative; border: 2px dashed #ccc; border-radius: 8px;">
            <img id="garden-image" src="assets/garden/vacant.png" alt="empty garden" style="width: 100%; height: 100%; object-fit: contain; pointer-events:none; user-select:none;" />
            <div id="garden-info" class="info-text" style="position:absolute; bottom:6px; left:6px; font-size:10px; user-select:none; pointer-events:none;">
              click to see flower details
            </div>
          </section>

          <!-- Water & Harvest buttons under garden -->
          <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
            <button id="water-btn" aria-label="water flower" style="width: 180px;">
              <img src="assets/UI/watercan.png" alt="water can" class="icon-large" />
              <span class="button-label">water</span>
            </button>
            <button id="harvest-btn" aria-label="harvest flower" style="width: 180px;">
              <img src="assets/UI/harvestbasket.png" alt="harvest basket" class="icon-large" />
              <span class="button-label">harvest</span>
            </button>
          </div>
        </div>

        <!-- Right Column: Seed / Buy / Theme -->
        <div style="display: flex; flex-direction: column; gap: 1rem; flex-grow: 1;">

          <!-- Top right buttons: Seed journal + Buy Seeds + Buy Water -->
          <div style="display: flex; flex-direction: column; gap: 0.5rem;">
            <button id="seed-journal-btn" aria-haspopup="dialog" aria-controls="seed-journal-popup" aria-expanded="false" title="Open seed journal" style="padding: 0.3rem 0.5rem; font-size: 10px;">📖 seed journal</button>
            <button id="buy-seed-list-btn" aria-haspopup="dialog" aria-controls="buy-seeds-popup" aria-expanded="false" title="Buy new seeds" style="padding: 0.3rem 0.5rem; font-size: 10px;">🛒 buy seeds</button>
            <button id="buy-water-btn" aria-label="buy water" style="width: 100px; margin-top: 0.5rem;">
              <img src="assets/UI/buy-water.gif" alt="buy water" class="icon-large" />
              <span class="button-label">buy water</span>
            </button>
          </div>

          <!-- Bottom Right: Seed Inventory with vertical Theme buttons -->
          <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
            <!-- Theme buttons vertical left -->
            <div id="theme-selector" aria-label="choose theme" role="radiogroup" style="display: flex; flex-direction: column; gap: 0.3rem;">
              <button class="theme-dot active" data-theme="pink" aria-label="pink theme" role="radio" aria-checked="true" tabindex="0" title="pink theme"></button>
              <button class="theme-dot" data-theme="beige" aria-label="beige theme" role="radio" aria-checked="false" tabindex="-1" title="beige theme"></button>
              <button class="theme-dot" data-theme="lavender" aria-label="lavender theme" role="radio" aria-checked="false" tabindex="-1" title="lavender theme"></button>
              <button class="theme-dot" data-theme="blue" aria-label="blue theme" role="radio" aria-checked="false" tabindex="-1" title="blue theme"></button>
              <button class="theme-dot" data-theme="green" aria-label="green theme" role="radio" aria-checked="false" tabindex="-1" title="green theme"></button>
            </div>

            <!-- Seed Inventory square -->
            <section id="seed-inventory-section" aria-label="seed inventory" style="flex-grow: 1; display: flex; flex-direction: column; border: 2px solid #f0c0c0; border-radius: 8px; padding: 4px; aspect-ratio: 1 / 1;">
              <h2 style="font-size: 12px;">seed inventory</h2>
              <small class="info-text">click a seed to plant</small>
              <div id="seed-inventory" tabindex="0" role="list" aria-live="polite" aria-label="Available seeds" style="display: flex; flex-wrap: wrap; gap: 4px; overflow-y: auto; justify-content: flex-start;">
                <!-- Each seed item: fix image size + show name + qty -->
                <!-- Example seed -->
                <!--
                <div class="seed-item" style="width: 48px; display: flex; flex-direction: column; align-items: center; font-size: 9px;">
                  <img src="assets/seeds/rose.png" alt="rose seed" style="width: 36px; height: 36px; object-fit: contain;" />
                  <span>rose x3</span>
                </div>
                -->
              </div>
              <div id="no-seeds-text" class="no-seeds">no seeds yet</div>
            </section>
          </div>
        </div>
      </main>

      <!-- Flower Fact Popup (centered inside widget) -->
      <div id="flower-fact-popup" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #fff8f0; border-radius: 12px; padding: 1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.2); width: 250px; display: none; z-index: 1000;">
        <h4 id="flower-fact-title">Flower Name</h4>
        <p id="flower-fact-text">Flower fact will appear here!</p>
        <p id="flower-fact-quote" style="font-style: italic; font-size: 0.8rem;">Cute quote here 🌸</p>
        <button id="close-flower-fact" style="margin-top: 0.5rem; font-size: 0.8rem; padding: 0.3rem 0.5rem;">Close</button>
      </div>

      <!-- Seed Journal Popup -->
      <div id="seed-journal-popup" class="popup hidden" role="dialog" aria-modal="true" aria-labelledby="seed-journal-title" tabindex="-1">
        <h3 id="seed-journal-title">seed journal</h3>
        <button id="close-journal-btn" aria-label="close seed journal">✕</button>
        <div id="seed-journal-card" tabindex="0" aria-live="polite"></div>
        <nav class="popup-nav">
          <button id="prev-seed-btn" aria-label="previous seed">←</button>
          <button id="next-seed-btn" aria-label="next seed">→</button>
        </nav>
      </div>

      <!-- Buy Seeds Popup -->
      <div id="buy-seeds-popup" class="popup hidden" role="dialog" aria-modal="true" aria-labelledby="buy-seeds-title" tabindex="-1">
        <h3 id="buy-seeds-title">buy seeds</h3>
        <button id="close-buy-seeds-btn" aria-label="close buy seeds list">✕</button>
        <ul id="buy-seeds-list" role="listbox" tabindex="0" aria-live="polite"></ul>
      </div>

      <!-- Popup Message -->
      <div id="popup-message" class="popup-message hidden" role="alert" aria-live="assertive"></div>

    </section>

    <!-- Vase shelf widget -->
    <section id="vase-widget" aria-label="harvested flower vase shelf" tabindex="0" role="list">
      <h2>harvested flowers</h2>
      <div id="vase-collection"></div>
    </section>
  </div>

<script src="game.js"></script>
</body>
</html>
